<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

  <title>time-picker test</title>

  <script src="../../../@webcomponents/webcomponentsjs/webcomponents-bundle.js"></script>
  <script src="../../../wct-browser-legacy/browser.js"></script>

  <script type="module" src="../time-picker.js"></script>
</head>

<body>
  <test-fixture id="Basic">
    <template>
      <time-picker></time-picker>
    </template>
  </test-fixture>

  <test-fixture id="ChangingProperties">
    <template>
      <time-picker time="01:02:03.456"></time-picker>
    </template>
  </test-fixture>

  <script type="module">
    import {
      getParams,
      mixinSuite
    } from '../../input-picker-pattern/utils/wct-mixin-test-helper.js';

    const params = getParams();
    mixinSuite('time-picker');

    suite('setting properties', () => {
      let element;

      setup(function() {
        element = fixture('ChangingProperties');
      });

      test('setting property should work', done => {
        assert.isTrue(element._timeOnly, 'element is a _timeOnly element');
        assert.equal(element.year, 1970, 'year should be set');
        assert.equal(element.month, 1, 'month should be set');
        assert.equal(element.day, 1, 'day should be set');
        assert.equal(element.hour, 1, 'hour should be set');
        assert.equal(element.minute, 2, 'minute should be set');
        assert.equal(element.second, 3, 'second should be set');
        assert.equal(element.millisecond, 456, 'millisecond should be set');
        assert.equal(element.date, '1970-01-01', 'date should be set');
        assert.equal(element.time, '01:02:03.456', 'time should be set');
        assert.equal(element.valueAsNumber, 3723456, 'valueAsNumber should be set');
        assert.equal(+element.valueAsDate, 3723456, 'valueAsDate should be set');
        assert.equal(element.timezone, '+00:00', 'timezone should be set');
        assert.equal(element.offsetMinutes, 0, 'offsetMinutes should be set');
        assert.equal(element.datetime, '1970-01-01T01:02:03.456+00:00', 'datetime should be set');
        assert.isDefined(element.confirmedValue, 'confirmed value is defined when initialized with property set');
        done();
      });
    });
    </script>
  </body>
</html>
